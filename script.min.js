(()=>{let WIN,NAV,DOC,MQ,MOB,IS_APPLE,STO,LOC,TZO=Math.round((new Date).getTimezoneOffset()/60);try{WIN=window;NAV=WIN.navigator||navigator;DOC=WIN.document||document;LOC=WIN.location||location}catch{}if(WIN&&NAV&&DOC){try{STO=sessionStorage}catch{}const PREFIX="aglx",scs=DOC.getElementsByTagName&&DOC.getElementsByTagName("script"),sc=scs[scs.length-1],EK=sc&&(sc.getAttribute("apikey")||sc.getAttribute("key")||sc.getAttribute("publickey")||sc.getAttribute("api-key")||sc.getAttribute("public-key")||sc.getAttribute("data-api-key")||sc.getAttribute("data-key")||sc.getAttribute("data-public-key")),A=sc&&(sc.getAttribute("userkey")||sc.getAttribute("user-key")||sc.getAttribute("data-user-key")||sc.getAttribute("userid")||sc.getAttribute("user-id")||sc.getAttribute("data-user-id")||sc.getAttribute("user")||sc.getAttribute("data-user")||sc.getAttribute("account")||sc.getAttribute("data-account")||sc.getAttribute("accountid")||sc.getAttribute("account-id")||sc.getAttribute("data-account-id")),NAMESPACE=sc.getAttribute("namespace")||"angelytics",CB=sc.getAttribute("callback")||sc.getAttribute("cb")||sc.getAttribute("data-callback")||sc.getAttribute("data-cb"),VENDOR=NAV.vendor||"",USER_AGENT=NAV.userAgent||"",IS_ANDROID_MOB=/Android|Opera Mini/.test(USER_AGENT)||WIN.t||false,IS_WINS_MOB=/Windows Phone|IEMobile/.test(USER_AGENT),IS_OTHER_MOB=/webOS|BlackBerry/.test(USER_AGENT),IS_IOS_MOB=/iP(hone|ad|od)/.test(USER_AGENT)&&WIN.o&&!(IS_ANDROID_MOB||IS_WINS_MOB||IS_OTHER_MOB);MOB=IS_IOS_MOB&&"ios"||IS_ANDROID_MOB&&"android"||IS_WINS_MOB&&"windows"||IS_OTHER_MOB&&"other";const HAS_TOUCH_SCREEN=!!MOB||NAV.maxTouchPoints>0||NAV.msMaxTouchPoints>0||(MQ=(WIN.matchMedia||(()=>{}))("(pointer:coarse)")||{})&&MQ.media==="(pointer:coarse)"&&!!MQ.matches||!!WIN.orientation;HAS_TOUCH_SCREEN||(MOB=false);IS_APPLE=/Apple/.test(VENDOR);const IS_SAFARI=/Safari/.test(USER_AGENT)&&IS_APPLE;IS_APPLE||(IS_APPLE=/Mac/.test(USER_AGENT));const IS_GOOGLE=/Google/.test(VENDOR),IS_CHROMIUM=/Chromium/.test(USER_AGENT)&&IS_GOOGLE,IS_CHROME=(/Chrome/.test(USER_AGENT)&&IS_GOOGLE||WIN.chrome&&(WIN.chrome.webstore||WIN.chrome.runtime))&&!IS_CHROMIUM,IS_SEAMONKEY=/Seamonkey/.test(USER_AGENT),IS_FIREFOX=(/Firefox/.test(USER_AGENT)||typeof InstallTrigger!=="undefined")&&!IS_SEAMONKEY,IS_OPERA=/OPR|Opera/.test(USER_AGENT),IS_IE=/MSIE|Trident.*rv\:11\./.test(USER_AGENT)||false||!!DOC.documentMode,BROWSER=IS_SAFARI&&"safari"||IS_CHROME&&"chrome"||IS_CHROMIUM&&"chromium"||IS_SEAMONKEY&&"seamonkey"||IS_FIREFOX&&"firefox"||IS_OPERA&&"opera"||IS_IE&&"ie",IS_GECKO=/Mobile|Tablet/.test(USER_AGENT)&&/Gecko|Firefox/.test(USER_AGENT)&&/Mozilla/.test(USER_AGENT)||IS_FIREFOX,IS_EDGE=!IS_IE&&!!WIN.StyleMedia||IS_CHROME&&/Edg/.test(USER_AGENT),IS_BLINK=(IS_CHROME||IS_OPERA)&&!!WIN.CSS,IS_WEBKIT=/KHTML/.test(USER_AGENT)&&/AppleWebKit/.test(USER_AGENT),RENDERING_ENGINE=IS_EDGE&&"edge"||IS_BLINK&&"blink"||IS_GECKO&&"gecko"||IS_WEBKIT&&"webkit",WIDTH=WIN.innerWidth||WIN.documentElement.clientWidth,DEVICE_TYPE=MOB&&(WIDTH<480&&"phone"||WIDTH>1152&&"large-tablet"||WIDTH&&"tablet")||"desktop",getElementBox=e=>{let f=0,t=0,n,r,o=e;while(o&&!isNaN(n=o.offsetLeft)&&!isNaN(r=o.offsetTop)){f+=n-(o.scrollLeft||0);t+=r-(o.scrollTop||0);o=o.offsetParent}return{x:f,y:t,width:e.offsetWidth||0,height:e.offsetHeight||0}},parseUrl=e=>{if(!e||typeof e!=="string")return null;if(URL.i&&!URL.i(e))return{href:e};e=new URL(e);const f={href:e.href};e.hostname&&(f.hostname=e.hostname);e.pathname&&(f.pathname=e.pathname);e.hash&&(f.hash=e.hash);e.password&&(f.password=e.password);e.port&&(f.port=e.port);e.I&&(f.I=e.I);e.username&&(f.username=e.username);e.searchParams.size&&(f.searchParams=Array.from(Array.from(e.searchParams).reduce((e,[f,t])=>{let n=e.get(f);n===undefined||Array.isArray(n)||(n=[n]);n&&n.push(t);e.set(f,n||t);return e},new Map)));return f},getMetadata=o=>{const c={platform:{l:BROWSER,u:RENDERING_ENGINE,S:DEVICE_TYPE,N:MOB,O:HAS_TOUCH_SCREEN,_:IS_APPLE,language:NAV.language},location:parseUrl(LOC.href),p:Date.now(),A:TZO,sessionId:SID,title:DOC.title};DOC.referrer&&(c.referrer=parseUrl(DOC.referrer));try{const e=Intl.DateTimeFormat().resolvedOptions().timeZone;e&&(c.timeZone=e)}catch{}if(o instanceof Node&&typeof o.getAttribute==="function"){let e=c.element=getElementBox(o),f,t=o.getAttribute("id")||o.id||o.getAttribute("name")||o.name||o.getAttribute("label")||o.label||o.getAttribute("alt")||o.alt||(f=o.getAttribute("for")||o["for"])&&`label for ${f}`,n=o.getAttribute("src")||o.src||o.getAttribute("href")||o.href||o.getAttribute("action")||o.action,r=o.getAttribute("type")||o.type;t&&(e.identifier=t);n&&(e.source=n);e.tagName=o.tagName.toLowerCase();r&&(e.type=o.type)}return c},throttle=(f,t=50,n=false,r=false)=>t>0&&((...e)=>{if(n){r=true;return}f(...e);n=true;setTimeout(()=>{r&&f(...e);r=n=false},t)})||f,ec=function(){let e=0x10000000000000000000000000000000000000000000000000000000000000000n,c=0x1000003d1n,a=0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn,f=0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2dn,i=255n,s=a-i,t=0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140n,k=0x3fffffffffffffffffffffffffffffffffffffffffffffffffffffffbfffff0cn,d=0xc9bd1905155383999c46c2c295f2b761bcb223fedc24a059d838091dd2253531n,I=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn,E=[0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,1n],l=[0n,1n,0n],u=(e,f=a,t=e%f)=>t>=0n?t:f+t,S=(e,f=c,t=a,n=e*f,r=n+((n&I)*d&I)*t>>256n,o=r-t)=>o>0&&o||r,n=(f,t=k,n=a,r=c,o=c)=>{f=u(f<<256n,n);for(let e;t;t>>=1n,f=S(f,f,n)){o=S(r,f,n);t&1n&&(r=o)||(e=o)}r=(r+u(r*d,e)*n)/e;o=r-n;return o>0&&o||r},w=e=>n(e,f),N=n,O=e=>u(u(u(e*e)*e)+7n),_=(e=32)=>new Uint8Array(e),r=(n,r=0n)=>{for(let e=0,f=n.length,t=0n;e!==f;++e){r=t+BigInt(n[e]);t=r<<8n}return r},p=(e,f="0x",t="")=>{let n,r="";while(e){(n=(e&255n).toString(16)).length===1&&(n="0"+n)||(r="0"+r);t=n+t;e>>=8n}return f+(t||"00")},o=e=>BigInt(e),x=e=>typeof e==="bigint"&&e||(typeof e==="string"&&o(e.charAt(1)==="x"&&e||"0x"+e)||r(e)),H=e=>{let f=e[0],t=r(e.slice(1,33)),n;f?!((n=N(O(t)))&1n)!==!(f&1)&&(n=u(-n)):n=r(e.slice(33,65));return[t,n,1n]},A=(e,f=true,t="0x",[n,r]=M(e),o=t+(f&&(r&1n&&"01"||"02")||"00")+p(n,""))=>f&&o||o+p(r,""),T=(e,f=o("0x"+e.slice(4,68)),t,n=e.charAt(3))=>n==="0"&&[f,o("0x"+e.slice(68,132)),1n]||[f,!((t=N(O(f)))&1n)===(n==="1")&&u(-t)||t,1n],L=e=>typeof e==="bigint"&&T(p(e))||(typeof e==="string"&&T(e.charAt(1)==="x"&&e||"0x"+e)||H(e)),F=function(){let r=Math.random,o=Date.now,c=Math.floor,f=Crypto&&Crypto.getRandomValues;return f&&((e=32)=>f(_(e)))||((e=32)=>{let f,t=0,n=_(e);while(t!==e){f=BigInt(c(o()+r()*1e17));while(f&&t!==e){n[t++]=Number(f&255n);f>>=8n}}return n})}(),m=(e=F())=>u(x(e),t)+1n,K=function(){const f=(e,f)=>String.fromCharCode(parseInt(f,16)),t=e=>e.replace(/%([0-9A-F]{2})/gi,f);return e=>{try{return t(encodeURIComponent(e))}catch{return e}}}(),V=e=>K(JSON.stringify(e)),M=([e=0n,f=0n,t=1n]=[])=>{if(!t)return[0n,0n,1n];if(t===1n)return[e,f,t];const n=w(t);return[u(e*n),u(f*n),1n]},R=([e=0n,f=0n,t=1n]=[])=>[e,-f,t],X=([e=0n,f=0n,t=1n]=[],[n=0n,r=0n,o=1n]=[])=>u(e*o)===u(n*t)&&u(f*o)===u(r*t),$=(e=m(),[f=0n,t=0n,n=1n]=E)=>{let r=l,o=E,c=[f,t,n];for(;e>0n;c=b(c),e>>=1n){e&1n&&(r=h(r,c))||(o=h(o,c))}return r},h=([e=0n,f=0n,t=1n]=[],[n=0n,r=0n,o=1n]=[])=>{let c=u(e*n),a=u(f*r),i=u(t*o),s=u(e+f),d=u(n+r),I,E,l;s=u(s*d);d=u(c+a);s=u(s-d);d=u(f+t);I=u(r+o);d=u(d*I);I=u(a+i);d=u(d-I);I=u(e+t);E=u(n+o);I=u(I*E);E=u(c+i);E=u(I-E);I=u(c+c);c=u(I+c);i=u(21n*i);l=u(a+i);a=u(a-i);E=u(21n*E);I=u(d*E);i=u(s*a);I=u(i-I);E=u(E*c);a=u(a*l);E=u(a+E);c=u(c*s);l=u(l*d);l=u(l+c);return[I,E,l]},b=([e=0n,f=0n,t=1n]=[])=>{let n=u(f*f),r=u(f*t),o=u(t*t),c,a,i;i=u(n+n);i=u(i+i);i=u(i+i);o=u(21n*o);c=u(o*i);a=u(n+o);i=u(r*i);r=u(o+o);o=u(r+o);n=u(n-o);a=u(n*a);a=u(c+a);r=u(e*f);c=u(n*r);c=u(c+c);return[c,a,i]},g=2**3,W=256/g+1,C=2**g,B=C>>1,Y=BigInt(C-1),j=BigInt(g),D=[],Q=[],G=undefined,U=(e=E,f=D)=>{if(f.length)return f;let t=e,n=0,r;for(;n<W;++n){e=t;f.push(e);for(r=1;r<B;++r)f.push(e=h(e,t));t=b(e)}return f},v=function(){const d=Math.abs;return(e,f)=>{let t=l,n=l,r=0,o=0,c,a,i,s;for(;r<W;++r,o+=B){a=Number(e&Y);e>>=j;if(a>B){a-=C;e+=1n}c=o+d(a)-1;if(a===0){i=f[o];s=R(i);n=h(n,a<0&&s||i)}else{i=f[c];s=R(i);t=h(t,a<0&&s||i)}}return t}}(),Z=(e=m())=>v(e,U(E,D)),J=(e=m(),f)=>{G||(G=f);return X(f,G)&&v(e,U(G,Q))||$(e,f)},P=e=>{let f,t,n=0n,r,o,c;for(;n!==i;++n){t=O(e+n);f=N(t);if(t===u(f*f)){r=n;y=f}else{o=n;c=f}}if(r===undefined)throw Error(`could not find a proper point for x = ${e}`);return[e+r,y,1n,r]},z=e=>{let f=e.length,t=[],n=0n,r=0n,o=0,c,a;try{for(;o!==f;++o,r+=8n){c=BigInt(e.charCodeAt(o));if((a=n+(c<<r))>=s){t.push(P(n));r=0n;n=c}else n=a}}catch(i){throw Error(`could not encode msg = ${e} (${i})`)}n&&t.push(P(n));return t};return(e,f,t=true,n=m())=>{e=z(V(e));let r=0,o=e.length,c,a=M(J(n,L(f))),i=A(Z(n),t,"");for(;r!==o;++r){c=e[r];i+=A(h(c,a),t,"")+p(c[3]>>8n,"")+p(c[3]&255n,"")}return i}}(),send=CB&&typeof WIN[CB]==="function"&&((...e)=>WIN[CB].apply(WIN,e))||A&&(async(e,f,t="https://api.angelytics.ai/api/event",n=f&&typeof f!=="string"&&EK||f)=>{e={T:A,...e};if(n){try{e.m&&(e.m=ec(e.m,n));e.body&&(e.body=ec(e.body,n));e.M=1}catch(r){return Promise.reject(r)}}try{e=JSON.stringify(e)}catch(r){console.error(r);return Promise.reject(r)}return fetch(t,{method:"POST",headers:{R:"application/json"},body:e}).then(e=>e.json()).then(e=>{return e})["catch"](e=>{console.error(e);return Promise.reject(e)})}),SN=`${PREFIX}-session-id`,SID=STO&&function(e=STO.getItem(SN)||""){if(e)return e;let f=performance&&performance.now()||Date.now(),t=(e,f=e&63)=>String.fromCharCode(f<10&&f+48||f<36&&f+55||f<62&&f+61||95),n=10+(Math.random()*52<<0),r=6;e+=t(n&63);while(r--){e+=t(n=f+Math.random()*1e17);e+=t(n=n>>6);e+=t(n=n>>6);e+=t(n=n>>6);e+=t(n=n>>6)}STO.setItem(SN,e+=t(25+TZO));return e}();WIN[NAMESPACE]={getMetadata,throttle};if(send){const record=({eventName:e,data:f,body:t=f,elmt:n,error:r,type:o,userId:c,ect:a,url:i,uri:s=i,extra:d,detail:I=d,details:E=I}={})=>{const l=getMetadata(n);o&&(l.g=o);r&&(l.error=r);e&&(l.W=e);E&&typeof E==="object"&&Object.assign(l.details||(l.details={}),E);t&&(l.body=t);(typeof c==="number"||c)&&(l.m=typeof c==="object"&&JSON.stringify(c)||`${c}`);send(l,a,s);return l},attrOveride=(node,prop,cb,force=false,func=node.getAttribute&&node.getAttribute(prop)||node[prop],t=typeof func)=>t==="function"&&(node[prop]=function(...e){cb();return func.apply(node,e)})||t==="string"&&(node[prop]=()=>{cb();eval(func)})||force&&(node===DOC.body&&DOC||node).addEventListener(prop.slice(2),cb),clickAttrOveride=(e,f)=>attrOveride(e,f,()=>record({W:f.toLowerCase().slice(2),C:e,type:"gesture"})),canScroll=(e,f)=>{if(e[f]===0){e[f]=1;if(e[f]===1){e[f]=0;return true}}else return true;return false},scrollAttrOveride=E=>((E.scrollHeight>E.clientHeight||E===document.body&&E.clientHeight>WIN.innerHeight||canScroll(E,"scrollTop"))&&WIN.getComputedStyle(E).overflowY.indexOf("hidden")===-1||(E.scrollWidth>E.clientWidth||E===document.body&&E.clientWidth>WIN.innerWidth||canScroll(E,"scrollLeft"))&&WIN.getComputedStyle(E).overflowX.indexOf("hidden")===-1)&&attrOveride(E,"onscroll",((e=0,n=Infinity,r=Infinity,o=0,c=0,a,i,s,d,I=(e,f)=>Math.min(Math.max(Math.round(100*e/f),0),100),f=()=>{let e=Math.max(E.scrollWidth-(E===document.body&&WIN.innerWidth||E.clientWidth)),f=Math.max(E.scrollHeight-(E===document.body&&WIN.innerHeight||E.clientHeight)),t;n!==o&&((t||(t={})).B={range:[I(n,e),I(o,e)],start:I(a,e),end:I(s,e)});r!==c&&((t||(t={})).D={range:[I(r,f),I(c,f)],start:I(i,f),end:I(d,f)});t&&record({W:"scroll",C:E,type:"gesture",G:t});n=r=Infinity;o=c=0;a=i=undefined})=>throttle(()=>{if(E===document.body){s=WIN.scrollX;d=WIN.scrollY}else{s=E.scrollLeft;d=E.scrollTop}if(a===undefined){a=s;i=d}n=Math.min(s,n);r=Math.min(d,r);o=Math.max(s,o);c=Math.max(d,c);clearTimeout(e);e=setTimeout(f,500)},50))(),true),onload=()=>{let n=document.body,r=[n],e;while(n=r.pop()){for(let e=0,f=n.childNodes||[],t=f.length;e!==t;++e)r.push(f[e]);e=(n.tagName||"").toLowerCase();if(e&&e!=="script"&&e!=="br"){clickAttrOveride(n,"onclick");clickAttrOveride(n,"onmouseup");clickAttrOveride(n,"onmousedown");clickAttrOveride(n,"ontouchstart");clickAttrOveride(n,"ontouchend");scrollAttrOveride(n)}}if(STO){STO.setItem(GOOD_EXIT,"pending");setInterval(()=>STO.setItem(TIME_BEFORE_CRASH,Date.now()),1e3);STO.setItem(WIN_NAME,getWindowName())}record({W:"start",C:document.body,type:"session"});WIN.removeEventListener("load",onload)},getWindowName=e=>{try{e=WIN.name||`${WIN.performance.navigation.type}`}catch{}return e},GOOD_EXIT=`${PREFIX}-good-exit`,TIME_BEFORE_CRASH=`${PREFIX}-time-before-crash`,WIN_NAME=`${PREFIX}-window-name`,addEventListener=EventTarget.prototype.addEventListener;EventTarget.prototype.addEventListener=function(f,t,...e){return addEventListener.apply(this,[f,((f=f.toLowerCase())==="click"||f==="touchstart"||f==="touchend"||f==="mouseup"||f==="mousedown")&&function(...e){record({W:f,C:this,type:"gesture"});return typeof t==="function"&&t(...e)}||t,...e])};WIN.addEventListener("load",onload);STO&&WIN.addEventListener("beforeunload",()=>{STO.setItem(GOOD_EXIT,"true");record({W:"end",C:document.body,type:"session"})});WIN.addEventListener("error",e=>{record({W:"code",error:{message:e.message,filename:e.filename,line:e.lineno,column:e.colno},type:"error"})});if(STO&&STO.getItem(WIN_NAME)===getWindowName()&&STO.getItem(GOOD_EXIT)!=="true"){record({W:"crash",error:{message:"Unresponsive code/page",U:STO.getItem(TIME_BEFORE_CRASH)},type:"error"})}WIN[NAMESPACE].sendCustomEvent=(e,f,t,n)=>{if(!e||typeof e!=="string")throw Error("In sendCustomEvent: first argument must be a non-empty event identifier string");else return record({W:e,body:f,type:"custom",m:t,P:n})}}sc.remove()}})();